<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <input type="button" value="禁用文本框" id="b1">
    <input type="text" value="文本框" id="txt">
    <input type="button" value='div变色' id='b2'>
    <div id='ss'>11</div>
    <a href="https://www.qq.com" id='a1'>QQ</a>
    <br>
    <input type="text" value="请输入搜索内容" id="txt1">
    <br>
    <input type="button" value='设置' id='b3'>
    <div id='dv3'>1</div>
    <div id='dv4-1' class="box">
        <div class="hd" id='hd'>
            <span>火娃</span>
            <span class='current'>水娃</span>
            <span>力娃</span>
            <span>金娃</span>
        </div>
        <div class="bd" id='bd'>
            <ul>
                <li class="current">火娃的画面</li>
                <li>水娃的背景</li>
                <li>力娃的背景</li>
                <li>金娃的背景</li>
            </ul>
        </div>
    </div>

    <script src='common.js'></script>
    <script>

        //获取hd
        var box = my$('dv4-1')
        var hd = box.getElementsByTagName('div')[0]
        //获取span对象数组
        var spans = box.getElementsByTagName('span')//这个为什么不和box.getElementsByTagName('span')等价？

        //获取bd
        var bd = box.getElementsByTagName('div')[1]
        //获取lis数组
        var list = bd.getElementsByTagName('li')

        //给每个span注册事件
        for (var i = 0; i < spans.length; i++) {
            spans[i].setAttribute('index', i)
            spans[i].onclick = function () {//？？这里为什么不能写this.onclick
                for (var j = 0; j < spans.length; j++) {
                    spans[j].removeAttribute('class')
                }
                this.className = ('current')
                var num = this.getAttribute('index')
                console.log('n is:' + num)
                for (var i = 0; i < list.length; i++) {
                    list[i].removeAttribute('class')
                }
                list[num].className = ('current')
            }

        }
        //找span的下标
        //找到对应的lī
        //注册每个li









        /*//获取最外面的div
        var box=my$('dv4-1')
        //获取里面的第一个div
        var hd=box.getElementsByTagName('div')[0]
        //获取所有的span标签
        var spans=hd.getElementsByTagName('span')
        //获取里面的第2个div
        var bd= box.getElementsByTagName('div')[1]
        //获取所有li标签
        var list=bd.getElementsByTagName('li')
        console.log('hd的长度:' + hd.length)
        console.log('spans的长度：' + spans.length)
        //循环遍历的方式添加点击事件
        for(var i=0;i<spans.length;i++){
            //在点击之前将索引保存在span标签中,重点
            spans[i].setAttribute('index',i)
            spans[i].onclick=function(){
                //将所有span类样式移除
                for(var j=0;j<spans.length;j++){
                    spans[j].removeAttribute('class')
                }
            //当前被点击的span应用类样式
            this.className='current'
            //span被点击时获取存储的索引值
            console.log(this.getAttribute('index'))
            var num= this.getAttribute('index')
            //获取所有的li标签，每个li标签先全部隐藏
            for(var i=0;i<list.length;i++){
                list[i].removeAttribute('class')
            }
                //当前被点击span对应的li添加class
                list[num].className='current'
            } 
        }
    
            //获取里面的第2个div
    
        
    //先根据id获取按钮，为按钮注册点击事件,添加时间处理函数
       var bi=document.getElementById('b1')
       bi.onclick=function(){
    //根据id获取文本框，并设置disable属性
        document.getElementById('txt').disabled=true;
       }
       var b2=document.getElementById('b2')
       b2.onclick=function(){
           document.getElementById('ss').style.background='green'
       }
       //阻止超链接的默认的跳转：return false
       var a1=document.getElementById('a1')
       a1.onclick=function(){
           alert('good,first')
           return  false
       }
       */
        //模拟搜索框
        //注册获取焦点事件 
        my$('txt1').onfocus = function () {
            console.log('focus')
            if (this.value === '请输入搜索内容') {
                this.value = ''
                this.style.color = 'black'
            }
        }

        //注册失去焦点事件
        my$('txt1').onblur = function () {
            console.log('no focus')
            //if(this.value===''){//尽量用下面的方式，判断字符串长度的效率比判断字符串的效率高
            if (this.length == 0) {
                this.value = '请输入搜索内容'
                this.style.color = 'grey'
            }
            //判断密码长度
            if (this.value.length >= 6 && this.value.length <= 8) {
                this.style.background = 'green';
            } else {
                this.style.background = 'pink'
            }
        }
        //点击按钮设置div中的文本内容
        my$('b3').onclick = function () {
            //设置标签中间的文本内容，应该使用textContent属性,IE8不支持
            console.log('dd')
            //my$('dv3').textContent="知道k"
            //推荐使用innertext属性，大部分浏览器支持 ，低版本火狐不支持
            my$('dv3').innerText = '我是老大，所有的都支持'
        }
        //写兼容代码
        //如果某个属性在浏览器中不支持，那么这个属性的类型是undefined
        //设置任意的标签中间的任意文本内容
        function setInnerText(element, text) {
            //判断浏览器是否支持这个属性
            if (typeof element.textContent === 'undefined') {//不支持textContent
                element.innerText = text
            } else { element.textContent = text }
        }
        //获取任意标签中间的文本内容
        function getInnerText(element) {
            if (typeof element.textContent === 'undefined') {
                return element.innerText
            } else { return element.textContent }
        }
    </script>


</body>

</html>